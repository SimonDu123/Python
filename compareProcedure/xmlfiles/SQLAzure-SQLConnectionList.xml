<persistable class="com.quest.adk.configuration.definition.PersistentDefinition" definitionType="PROCEDURE" displayName="SQL Azure - Session List" name="SQLConnectionList">
  <definitionPath>
    <fragment type="AGENT" />
    <fragment type="PACKAGE">sqlazure</fragment>
    <fragment type="PROCEDURE">sqlconnectionlist</fragment>
  </definitionPath>
  <components>
    <entry>
      <componentType>PROCEDURE_CONTENT</componentType>
      <component alwaysSaveToLucy="false" alwaysSaveToSSR="false" backgroundEditable="true" class="com.quest.adk.configuration.component.ProcedureContentComponent" dataRetentionMode="UNLOAD_STRING_COLUMNS" keyColumnName="SessionKey" lthEditable="true" lthTextLimit="0" lucyEditable="false" minimumPersistencePeriod="60000" prettyKeyColumnName="spid" reExecutionPriority="0" readOnly="false" role="NONE" savedToPlayback="true" skippedIfNoMatchingQuery="false" ssrDataSavedToLucy="false">
        <dependentOnProcedures class="java.util.ArrayList" />
        <dependentRulePaths class="java.util.ArrayList" />
        <columns class="java.util.ArrayList">
          <procedureColumn dataType="STRING" name="SessionKey" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="spid" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="RequestId" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="SQLUser" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="Status" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="BlockedBySpid" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="CurrentCommand" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="ProgramName" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="CurrentWaitType" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentWaitTime" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="LastWaitType" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="LastWaitResource" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="OpenTransactionCnt" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="DOUBLE" name="TotalCPU" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentCPU" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="TotalIO" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentIO" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="TotalReads" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentReads" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="TotalWrites" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentWrites" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="TotalLogicalReads" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="LONG" name="CurrentLogicalReads" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="DOUBLE" name="MemoryUsage" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="HostProcess" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="HostName" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="DATE" name="LoginTime" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="DATE" name="LastBatchTime" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="NetLibrary" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="BOOLEAN" name="Active" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="BOOLEAN" name="SystemProcess" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="DOUBLE" name="SecondsSinceLastBatch" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="PlanHandle" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="QueryPlan" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="SQLHandle" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
          <procedureColumn dataType="STRING" name="SQLText" persistedToLongTermHistory="true" persistedToShortTermHistory="true" sentToProjectLucy="false" wideStringInSSR="false" />
        </columns>
        <arguments>
          <entry>
            <string>ShowSystemObjects</string>
            <argument checkedForSQLInjection="false" class="com.quest.adk.configuration.component.ProcedureArgument" dataType="STRING" defaultValue="Y" isRequired="false" name="ShowSystemObjects" />
          </entry>
        </arguments>
        <triggerAlarms class="java.util.ArrayList" />
        <queries class="java.util.ArrayList">
          <queryConfiguration callableName="" connectionName="SQLServerConnection" isScript="false" minimumRefreshInterval="60000">
            <properties />
            <guardExpressionText />
            <commandText><![CDATA[{{versioned_file:QS_ConnectionList.sql}}]]></commandText>
            <technology extendedVersion="false">
              <path>
                <fragment type="AGENT" />
                <fragment type="TECHNOLOGY">database</fragment>
                <fragment type="TECHNOLOGY">sqlazure</fragment>
              </path>
            </technology>
            <dependencyList class="java.util.ArrayList" />
            <errorActions class="java.util.TreeMap" />
            <procedureColumnExpressionList class="java.util.ArrayList">
              <columnExpression columnName="spid">
                <expression><![CDATA[spid]]></expression>
              </columnExpression>
              <columnExpression columnName="RequestId">
                <expression><![CDATA[RequestId]]></expression>
              </columnExpression>
              <columnExpression columnName="SQLUser">
                <expression><![CDATA[SQLUser]]></expression>
              </columnExpression>
              <columnExpression columnName="Status">
                <expression><![CDATA[status]]></expression>
              </columnExpression>
              <columnExpression columnName="BlockedBySpid">
                <expression><![CDATA[BlockedBySpid]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentCommand">
                <expression><![CDATA[CurrentCommand]]></expression>
              </columnExpression>
              <columnExpression columnName="ProgramName">
                <expression><![CDATA[ProgramName]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentWaitType">
                <expression><![CDATA[CurrentWaitType]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentWaitTime">
                <expression><![CDATA[CurrentWaitTime]]></expression>
              </columnExpression>
              <columnExpression columnName="LastWaitType">
                <expression><![CDATA[LastWaitType]]></expression>
              </columnExpression>
              <columnExpression columnName="LastWaitResource">
                <expression><![CDATA[LastWaitResource]]></expression>
              </columnExpression>
              <columnExpression columnName="OpenTransactionCnt">
                <expression><![CDATA[OpenTransactionCnt]]></expression>
              </columnExpression>
              <columnExpression columnName="TotalCPU">
                <expression><![CDATA[CPUTime]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentCPU">
                <expression><![CDATA[RequestCPUTime]]></expression>
              </columnExpression>
              <columnExpression columnName="TotalReads">
                <expression><![CDATA[Reads]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentReads">
                <expression><![CDATA[RequestReads]]></expression>
              </columnExpression>
              <columnExpression columnName="TotalWrites">
                <expression><![CDATA[Writes]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentWrites">
                <expression><![CDATA[RequestWrites]]></expression>
              </columnExpression>
              <columnExpression columnName="TotalLogicalReads">
                <expression><![CDATA[LogicalReads]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentLogicalReads">
                <expression><![CDATA[RequestLogicalReads]]></expression>
              </columnExpression>
              <columnExpression columnName="TotalIO">
                <expression><![CDATA[Reads + Writes]]></expression>
              </columnExpression>
              <columnExpression columnName="CurrentIO">
                <expression><![CDATA[RequestReads + RequestWrites]]></expression>
              </columnExpression>
              <columnExpression columnName="MemoryUsage">
                <expression><![CDATA[MemoryUsage]]></expression>
              </columnExpression>
              <columnExpression columnName="HostProcess">
                <expression><![CDATA[HostProcess]]></expression>
              </columnExpression>
              <columnExpression columnName="HostName">
                <expression><![CDATA[HostName]]></expression>
              </columnExpression>
              <columnExpression columnName="LoginTime">
                <expression><![CDATA[LoginTime]]></expression>
              </columnExpression>
              <columnExpression columnName="LastBatchTime">
                <expression><![CDATA[LastBatchTime]]></expression>
              </columnExpression>
              <columnExpression columnName="NetLibrary">
                <expression><![CDATA[NetLibrary]]></expression>
              </columnExpression>
              <columnExpression columnName="Active">
                <expression><![CDATA[not isnull(RequestID)]]></expression>
              </columnExpression>
              <columnExpression columnName="SystemProcess">
                <expression><![CDATA[UserProcess == false]]></expression>
              </columnExpression>
              <columnExpression columnName="SecondsSinceLastBatch">
                <expression><![CDATA[(CurrentServerTime - LastBatchTime) / 1000]]></expression>
              </columnExpression>
              <columnExpression columnName="PlanHandle">
                <expression><![CDATA[PlanHandle]]></expression>
              </columnExpression>
              <columnExpression columnName="SessionKey">
                <expression><![CDATA[SessionKey]]></expression>
              </columnExpression>
              <columnExpression columnName="QueryPlan">
                <expression><![CDATA[QueryPlan]]></expression>
              </columnExpression>
              <columnExpression columnName="SQLHandle">
                <expression><![CDATA[SQLHandle]]></expression>
              </columnExpression>
              <columnExpression columnName="SQLText">
                <expression><![CDATA[SQLText]]></expression>
              </columnExpression>
            </procedureColumnExpressionList>
            <outputColumnDataTypeList class="java.util.ArrayList">
              <columnDataType columnName="SessionKey" dataType="STRING" />
              <columnDataType columnName="spid" dataType="LONG" />
              <columnDataType columnName="RequestId" dataType="LONG" />
              <columnDataType columnName="SQLUser" dataType="STRING" />
              <columnDataType columnName="Status" dataType="STRING" />
              <columnDataType columnName="BlockedBySPID" dataType="STRING" />
              <columnDataType columnName="CurrentCommand" dataType="STRING" />
              <columnDataType columnName="DBName" dataType="STRING" />
              <columnDataType columnName="ProgramName" dataType="STRING" />
              <columnDataType columnName="CurrentWaitType" dataType="STRING" />
              <columnDataType columnName="CurrentWaitTime" dataType="LONG" />
              <columnDataType columnName="LastWaitType" dataType="STRING" />
              <columnDataType columnName="LastWaitResource" dataType="STRING" />
              <columnDataType columnName="OpenTransactionCnt" dataType="LONG" />
              <columnDataType columnName="CPUTime" dataType="LONG" />
              <columnDataType columnName="RequestCPUTime" dataType="LONG" />
              <columnDataType columnName="Reads" dataType="LONG" />
              <columnDataType columnName="RequestReads" dataType="LONG" />
              <columnDataType columnName="Writes" dataType="LONG" />
              <columnDataType columnName="RequestWrites" dataType="LONG" />
              <columnDataType columnName="LogicalReads" dataType="LONG" />
              <columnDataType columnName="RequestLogicalReads" dataType="LONG" />
              <columnDataType columnName="MemoryUsage" dataType="DOUBLE" />
              <columnDataType columnName="HostProcess" dataType="STRING" />
              <columnDataType columnName="HostName" dataType="STRING" />
              <columnDataType columnName="LoginTime" dataType="DATE" />
              <columnDataType columnName="LastBatchTime" dataType="DATE" />
              <columnDataType columnName="NetAddress" dataType="STRING" />
              <columnDataType columnName="NetLibrary" dataType="STRING" />
              <columnDataType columnName="Active" dataType="STRING" />
              <columnDataType columnName="SystemProcess" dataType="STRING" />
              <columnDataType columnName="CurrentServerTime" dataType="DATE" />
              <columnDataType columnName="PlanHandle" dataType="STRING" />
              <columnDataType columnName="QueryPlan" dataType="STRING" />
              <columnDataType columnName="SQLHandle" dataType="STRING" />
              <columnDataType columnName="SQLText" dataType="STRING" />
              <columnDataType columnName="UserProcess" dataType="BOOLEAN" />
            </outputColumnDataTypeList>
          </queryConfiguration>
        </queries>
      </component>
    </entry>
    <entry>
      <componentType>PROCEDURE_SCHEDULE</componentType>
      <component class="com.quest.adk.configuration.component.ProcedureScheduleComponent" editable="true" enabled="false" executionInterval="-1" subscriptionIgnoredByScheduling="false">
        <schedule class="com.quest.adk.configuration.component.schedule.IntervalScheduleConfiguration" interval="300000" />
      </component>
    </entry>
    <entry>
      <componentType>PROCEDURE_SSR</componentType>
      <component aggregationPeriod="-1" class="com.quest.adk.configuration.component.ProcedureLTHComponent" editable="true" enabled="false" retentionDays="365">
        <schedule class="com.quest.adk.configuration.component.schedule.IntervalScheduleConfiguration" interval="21600000" />
      </component>
    </entry>
  </components>
  <childrenList />
</persistable>
